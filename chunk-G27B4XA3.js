import{j as y}from"./chunk-OJLB7IHY.js";import{Ac as h,Cc as I,Dc as S,R as p,U as C,Z as u,a as f,b as g,ia as b,pa as m}from"./chunk-N3U5CX7S.js";function U(t,e){let a=!e?.manualCleanup?e?.injector?.get(b)??u(b):null,l=x(e?.equal),n;e?.requireSync?n=m({kind:0},{equal:l}):n=m({kind:1,value:e?.initialValue},{equal:l});let d,s=t.subscribe({next:r=>n.set({kind:1,value:r}),error:r=>{n.set({kind:2,error:r}),d?.()},complete:()=>{d?.()}});if(e?.requireSync&&n().kind===0)throw new p(601,!1);return d=a?.onDestroy(s.unsubscribe.bind(s)),h(()=>{let r=n();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new p(601,!1)}},{equal:e?.equal})}function x(t=Object.is){return(e,o)=>e.kind===1&&o.kind===1&&t(e.value,o.value)}function D(t){return I(g(f({},t),{loader:void 0,stream:e=>{let o,a=()=>o?.unsubscribe();e.abortSignal.addEventListener("abort",a);let l=m({value:void 0}),n,d=new Promise(i=>n=i);function s(i){l.set(i),n?.(l),n=void 0}let r=t.stream??t.loader;if(r===void 0)throw new p(990,!1);return o=r(e).subscribe({next:i=>s({value:i}),error:i=>{s({error:S(i)}),e.abortSignal.removeEventListener("abort",a)},complete:()=>{n&&s({error:new p(991,!1)}),e.abortSignal.removeEventListener("abort",a)}}),d}}))}var N={apiUrl:"https://my-json-server.typicode.com/zzebiri/hjazli-api"};var O=`${N.apiUrl}/clients`,R=t=>({base:t,get:{list:()=>t,byId:e=>`${t}/${e}`},post:{create:()=>t},put:{update:e=>`${t}/${e}`},delete:{remove:e=>`${t}/${e}`}}),E=R(O);var v=class t{http=u(y);API_ENDPOINTS=E;$clientResource=D({params:()=>({}),stream:()=>this.getClients(),defaultValue:[]});clients=()=>this.$clientResource.value();loading=()=>this.$clientResource.isLoading();error=()=>this.$clientResource.error();getClients(){return this.http.get(this.API_ENDPOINTS.get.list())}getClient(e){return this.http.get(this.API_ENDPOINTS.get.byId(e))}createClient(e){return this.http.post(this.API_ENDPOINTS.post.create(),e)}updateClient(e){return this.http.put(this.API_ENDPOINTS.put.update(e.id),e)}deleteClient(e){return this.http.delete(this.API_ENDPOINTS.delete.remove(e))}static \u0275fac=function(o){return new(o||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var T=(t,e)=>u(v).getClient(t.paramMap.get("id"));var c={CLIENTS:"users/clients",CLIENT_DETAILS:":id"},ne={CLIENTS:()=>c.CLIENTS,CLIENT_DETAILS:t=>`${c.CLIENTS}/${t}`},re=[{path:"",redirectTo:c.CLIENTS,pathMatch:"full"},{path:c.CLIENTS,loadComponent:()=>import("./chunk-2HPS4DWV.js").then(t=>t.Clients)},{path:`${c.CLIENTS}/${c.CLIENT_DETAILS}`,loadComponent:()=>import("./chunk-OX7AWTJ5.js").then(t=>t.ClientsDetails),resolve:{client:T}}];export{U as a,v as b,c,ne as d,re as e};
